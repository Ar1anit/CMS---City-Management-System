<meta http-equiv="content-type" content="text/html; charset=utf-8">

<head>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Crimson+Pro">

    <link rel="shortcut icon" href="../static/images/favicon.png" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="../static/Startpage.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
            crossorigin="anonymous"></script>
    <script src="../static/support-tickets.js" defer></script>
</head>

<nav class="navbar navbar-expand-lg bg-body-tertiary mb-5"
     style="background: linear-gradient(to left, #000000 13%, #FFFFFF );">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo03"
                aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#">
            <img style="width: 80px; height: 80px;" src="../static/images/LogoF.png" alt="Logo">
        </a>

        <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link " aria-current="page" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/dataset">Datensätze</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="404">Diskussionsforum</a>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle " href="#" role="button" data-bs-toggle="dropdown"
                       aria-expanded="false">
                        Mein Profil
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item bg-white" href="#">Hallo, {{ nutzername }}</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item bg-white" href="/profile">Zur Profilansicht</a></li>
                        <li><a class="dropdown-item bg-white" href="/fav-datasets">Lieblingsdatensätze</a></li>
                        <li>
                            <hr class="dropdown-divider bg-white">
                        </li>
                        <li><a class="dropdown-item bg-white" href="/logout">Abmelden</a></li>
                    </ul>
            </ul>
        </div>
    </div>
</nav>

<center>
    <h1 style="margin-bottom: 50px; font-size: 62px;" id="support-heading">Supporttickets</h1>
</center>

{% for count in range(0, len_tickets_in_bearbeitung) %}
<div class="container-lg table-design">
    <div class="row row-cols-1">
        <div class="card shadow-sm p-3 mb-5 bg-white rounded">
            <div class="card-header">
                <img style="width: 22px; height: 22px;" src="../static/images/dataset.png" alt="icon">
                Support
            </div>
            <div class="card-body" style="height: auto;">
                <div class="status-container">
                    <h3 style="float: left;">Supportticket - {{ tickets_in_bearbeitung[count][1] }}</h3>
                    {% if tickets_in_bearbeitung[count][5] == "In Bearbeitung" %}
                        <button class="status-button red-button" onclick="change_status('{{ tickets_in_bearbeitung[count][0] }}');" id="ticket-{{ tickets_in_bearbeitung[count][0] }}" value="In Bearbeitung">{{ tickets_in_bearbeitung[count][5] }}</button>
                    {% else %}
                        <button class="status-button green-button" onclick="change_status('{{ tickets_in_bearbeitung[count][0] }}');" id="ticket-{{ tickets_in_bearbeitung[count][0] }}" value="Erledigt">{{ tickets_in_bearbeitung[count][5] }}</button>
                    {% endif %}
                    <p style="font-size: 20px;">{{ tickets_in_bearbeitung[count][2] }}</p>
                    <p style="font-size: 20px;">{{ tickets_in_bearbeitung[count][3] }}</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endfor %}

{% if len_tickets_in_bearbeitung == 0 %}
    <div class="container-lg table-design" id="zero-elems">
        <div class="row row-cols-1">
            <div class="card shadow-sm p-3 mb-5 bg-white rounded">
                <div class="card-header">
                    <img style="width: 22px; height: 22px;" src="../static/images/dataset.png" alt="icon">
                    Support
                </div>
                <div class="card-body">
                    <div class="status-container">
                        <h3 style="float: left;">Supporttickets</h3>
                    </div>
                    <div>
                        <p style="font-size: 20px;">Es sind aktuell keine Tickets offen. Wenn jemand ein Ticket öffnet, dann siehst du es hier.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endif %}